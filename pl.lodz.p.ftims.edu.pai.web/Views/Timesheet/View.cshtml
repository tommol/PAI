@model pl.lodz.p.ftims.edu.pai.web.Models.TimesheetViewModel

@{
    ViewBag.Title = "Karta";
}


<div>
    <h4>Karta czasu pracy</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.StartPeriod)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.StartPeriod)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.EndPeriod)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.EndPeriod)
        </dd>

    </dl>
</div>
<div class="row" style="font-size:0.9em; font-weight:bold;background: #e6e6e6; ">
    <div class="col-md-3">Projekt</div>
    <div class="col-md-2">Zadanie</div>
    <div class="col-md-1">@Html.DisplayFor(m => m.Entries[0].Date1)</div>
    <div class="col-md-1">@Html.DisplayFor(m => m.Entries[0].Date2)</div>
    <div class="col-md-1">@Html.DisplayFor(m => m.Entries[0].Date3)</div>
    <div class="col-md-1">@Html.DisplayFor(m => m.Entries[0].Date4)</div>
    <div class="col-md-1">@Html.DisplayFor(m => m.Entries[0].Date5)</div>
    <div class="col-md-1">@Html.DisplayFor(m => m.Entries[0].Date6)</div>
    <div class="col-md-1">@Html.DisplayFor(m => m.Entries[0].Date7)</div>
</div>
@for (int i = 0; i < Model.Entries.Count; i++)
            {

    <div class="row">
        <div class="col-md-3">
            @Html.DisplayFor(m => m.Entries[i].Project)
        </div>
        <div class="col-md-2">
            @Html.DisplayFor(m => m.Entries[i].Task)
        </div>
        <div class="col-md-1">@Html.DisplayFor(m => m.Entries[i].Day1)</div>
        <div class="col-md-1">@Html.DisplayFor(m => m.Entries[i].Day2)</div>
        <div class="col-md-1">@Html.DisplayFor(m => m.Entries[i].Day3)</div>
        <div class="col-md-1">@Html.DisplayFor(m => m.Entries[i].Day4)</div>
        <div class="col-md-1">@Html.DisplayFor(m => m.Entries[i].Day5)</div>
        <div class="col-md-1">@Html.DisplayFor(m => m.Entries[i].Day6)</div>
        <div class="col-md-1">@Html.DisplayFor(m => m.Entries[i].Day7)</div>
    </div>
}
<h4>Historia</h4>

@for(int i = 0; i < Model.History.Count; i++)
{
    <div class="row">
        <div class="col-md-3">@Html.DisplayFor(m=>m.History[i].Date)</div>
        <div class="col-md-4">@Html.DisplayFor(m => m.History[i].UserName)</div>
        <div class="col-md-1">
            @if (Model.History[i].NewStatus == 0)
                {
                <span class="label label-info">
                    Wysłany
                </span>
            }
            @if (Model.History[i].NewStatus == 1)
                {
                <span class="label label-success">
                    Zaakceptowany
                </span>
            }
            @if (Model.History[i].NewStatus == 3)
                {
                <span class="label label-danger">Odrzucony</span>
            }
        </div>
    </div>
}




<p>
    @if (User.IsInRole("MANAGER"))
    {
        <div class="btn-group">
            @Html.ActionLink("Akceptuj", "Accept", new { id = Model.Id }, new { @class = "btn btn-success" })
            @Html.ActionLink("Odrzuć", "Decline", new { id = Model.Id }, new { @class = "btn btn-danger" })
        </div>
    }

    @Html.ActionLink("Powrót", "Index")
</p>
